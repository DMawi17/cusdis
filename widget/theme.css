@tailwind base;
@tailwind components;
@tailwind utilities;

* { box-sizing: border-box; }
body, html { margin: 0; padding: 0; overflow-x: hidden; }
blockquote { @apply px-4 py-2 bg-gray-100 my-4 dark:bg-gray-900; }

/* ============================================
   GRID & MOBILE LOGIC (PRESERVED)
   ============================================ */
.grid-cols-2 {
  display: grid !important;
  grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  gap: 0.75rem !important;
}
@media (max-width: 640px) {
  .grid-cols-2 { 
    grid-template-columns: 1fr !important; 
  }
}

/* ============================================
   TASK 1: BODY & CONTAINER - TRANSPARENT BACKGROUND
   ============================================ */
body { 
  min-height: auto !important; 
  overflow: visible !important; 
  padding: 5px !important;
  background-color: transparent !important;
}

html {
  background-color: transparent !important;
}

/* Light mode - TRANSPARENT */
body, html {
  background-color: transparent !important;
}

/* Dark mode - TRANSPARENT */
.dark body,
.dark html {
  background-color: transparent !important;
}

/* ============================================
   FORM CONTAINER - NEWSLETTER STYLE
   ============================================ */
form {
  background: #f0e6dc !important;
  padding: 1.5rem !important;
  border-radius: 0.5rem !important;
  margin-bottom: 1.5rem !important;
  border: 1px solid #D4C5B9 !important;
  backdrop-filter: blur(10px) !important;
}

.dark form {
  background: #2a3a4a !important;
  border-color: rgba(255, 255, 255, 0.1) !important;
}

/* ============================================
   INPUT FIELDS - NEWSLETTER STYLE
   ============================================ */
   input[type="text"],
   input[type="email"],
   textarea {
     width: 100% !important;
     height: auto !important;
     padding: 0.625rem !important;
     border-radius: 0.5rem !important;
     border: 1px solid #D4C5B9 !important;
     background-color: rgba(255, 255, 255, 0.6) !important;
     font-size: 0.875rem !important;
     transition: all 0.2s ease !important;
     color: #565279 !important;
   }
   
   textarea {
     min-height: 7rem !important;
     resize: vertical !important;
   }
   
   /* Input Focus - Border color change */
   input[type="text"]:focus,
   input[type="email"]:focus,
   textarea:focus {
     outline: none !important;
     box-shadow: none !important;
     border-color: rgba(221, 127, 104, 0.5) !important;
   }
   
   /* Dark Mode Inputs */
   .dark input[type="text"],
   .dark input[type="email"],
   .dark textarea {
     background-color: rgba(255, 255, 255, 0.05) !important;
     border: 1px solid rgba(255, 255, 255, 0.2) !important;
     color: #cdd6f4 !important;
   }
   
   .dark input[type="text"]:focus,
   .dark input[type="email"]:focus,
   .dark textarea:focus {
     box-shadow: none !important;
     border-color: rgba(137, 180, 250, 0.5) !important;
   }

/* ============================================
   TASK 2: SUBMIT BUTTON - RIGHT ALIGNED + CUSTOM COLORS
   ============================================ */
/* Primary submit button - Match "ተጨማሪ ያንብቡ" button */
button[type="submit"],
form button:not([type="button"]),
button.bg-blue-600,
button.bg-blue-700 {
  display: inline-flex !important;
  height: 2.75rem !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 0.5rem !important;
  background-color: #DD7F68 !important;
  padding-left: 2rem !important;
  padding-right: 2rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #ffffff !important;
  transition: all 0.2s ease !important;
  border: none !important;
  cursor: pointer !important;
  box-shadow: 0 10px 15px -3px rgba(221, 127, 104, 0.25), 0 4px 6px -4px rgba(221, 127, 104, 0.25) !important;
  margin-left: auto !important;
  float: right !important;
}

button[type="submit"]:hover,
form button:not([type="button"]):hover,
button.bg-blue-600:hover,
button.bg-blue-700:hover {
  background-color: rgba(221, 127, 104, 0.9) !important;
  opacity: 1 !important;
}

button[type="submit"]:disabled,
form button:not([type="button"]):disabled,
button.bg-blue-600:disabled,
button.bg-blue-700:disabled {
  opacity: 0.6 !important;
  cursor: not-allowed !important;
}

/* Dark Mode Submit Button */
.dark button[type="submit"],
.dark form button:not([type="button"]),
.dark button.bg-blue-600,
.dark button.bg-blue-700,
.dark button.dark\:bg-blue-700,
.dark button.dark\:bg-blue-800 {
  background-color: #89B4FA !important;
  color: #1e1e2e !important;
  box-shadow: 0 10px 15px -3px rgba(137, 180, 250, 0.25), 0 4px 6px -4px rgba(137, 180, 250, 0.25) !important;
}

.dark button[type="submit"]:hover,
.dark form button:not([type="button"]):hover,
.dark button.bg-blue-600:hover,
.dark button.bg-blue-700:hover {
  background-color: rgba(137, 180, 250, 0.9) !important;
}

/* Clear float after button */
form > div:last-child::after,
form::after {
  content: "";
  display: table;
  clear: both;
}

/* ============================================
   REPLY BUTTON (መልስ) - TEXT LINK STYLE
   ============================================ */
/* Reply buttons - keep as text links */
button[type="button"],
.reply-button {
  background: none !important;
  background-color: transparent !important;
  border: none !important;
  box-shadow: none !important;
  height: auto !important;
  padding: 0.25rem 0 !important;
  margin-top: 0.75rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #DD7F68 !important;
  text-decoration: none !important;
  cursor: pointer !important;
  display: inline !important;
  float: none !important;
  transition: color 0.2s ease !important;
}

button[type="button"]:hover,
.reply-button:hover {
  color: #C96D58 !important;
  background: none !important;
  opacity: 1 !important;
}

button[type="button"]:focus,
.reply-button:focus {
  outline: none !important;
  box-shadow: none !important;
}

/* Remove focus outline from all buttons */
button:focus,
button:focus-visible {
  outline: none !important;
}

.dark button[type="button"],
.dark .reply-button {
  color: #89B4FA !important;
}

.dark button[type="button"]:hover,
.dark .reply-button:hover {
  color: #7AA3E8 !important;
}

/* ============================================
   COMMENT SEPARATORS - FORCE VISIBLE BORDERS
   ============================================ */

/* Target the main comment container - add bottom border */
.my-4 {
  padding-top: 1.5rem !important;
  padding-bottom: 1.5rem !important;
  border-bottom: 1px solid #D4C5B9 !important;
  margin-bottom: 0 !important;
  margin-top: 0 !important;
}

/* Dark mode separator */
.dark .my-4 {
  border-bottom-color: rgba(255, 255, 255, 0.15) !important;
}

/* First comment - reduce top padding */
.my-4:first-of-type {
  padding-top: 0.5rem !important;
}

/* Last comment - remove bottom border */
.my-4:last-of-type {
  border-bottom: none !important;
  padding-bottom: 0.5rem !important;
}

/* Nested replies - no separator on nested items */
.my-4.pl-4.border-l-2 {
  border-bottom: none !important;
  padding-top: 1rem !important;
  padding-bottom: 0.5rem !important;
}

/* Add separator after reply form container */
.mt-4.pl-4.border-l-2 {
  margin-top: 1rem !important;
}

/* ============================================
   COMMENT TEXT STYLING
   ============================================ */

/* Date - muted/lighter */
.text-gray-500.text-sm {
  color: #9ca3af !important;
  opacity: 0.75 !important;
  font-size: 0.8125rem !important;
  margin-top: 0.25rem !important;
  margin-bottom: 0.5rem !important;
}

.dark .text-gray-500.text-sm {
  color: #6b7280 !important;
  opacity: 0.7 !important;
}

/* Comment content */
.text-gray-500.my-2 {
  margin-top: 0.75rem !important;
  margin-bottom: 0.75rem !important;
  line-height: 1.7 !important;
}

/* Author name */
.font-medium {
  font-weight: 600 !important;
  color: #565279 !important;
}

.dark .font-medium {
  color: #cdd6f4 !important;
}

/* ============================================
   LABELS
   ============================================ */
label {
  display: block !important;
  margin-bottom: 0.375rem !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  color: #565279 !important;
}

.dark label {
  color: #cdd6f4 !important;
}

/* ============================================
   MODERATOR BADGE
   ============================================ */
.bg-gray-200.text-xs {
  background-color: #DD7F68 !important;
  color: white !important;
  padding: 0.125rem 0.5rem !important;
  border-radius: 0.25rem !important;
  font-weight: 500 !important;
}

.dark .bg-gray-200.text-xs {
  background-color: #89B4FA !important;
  color: #1e1e2e !important;
}

/* ============================================
   NESTED REPLY BORDERS
   ============================================ */
.border-l-2.border-color-gray-200,
.border-l-2 {
  border-left-width: 2px !important;
  border-left-color: #D4C5B9 !important;
  padding-left: 1rem !important;
}

.dark .border-l-2.border-color-gray-200,
.dark .border-l-2 {
  border-left-color: rgba(255, 255, 255, 0.1) !important;
}

/* ============================================
   TASK 3: STATUS MESSAGE COLOR FIX
   ============================================ */
/* Target success/pending messages - "Wait for approval" etc */
.cusdis-message,
.message,
[class*="message"],
div[class*="success"],
div[class*="pending"],
div[class*="status"] {
  color: #57949F !important;
}

/* Additional targeting for text color classes that might be blue */
.text-blue-500,
.text-blue-600,
.text-blue-700 {
  color: #57949F !important;
}

/* Dark mode status messages */
.dark .cusdis-message,
.dark .message,
.dark [class*="message"],
.dark div[class*="success"],
.dark div[class*="pending"],
.dark div[class*="status"],
.dark .text-blue-500,
.dark .text-blue-600,
.dark .text-blue-700 {
  color: #57949F !important;
}

/* ============================================
   TASK 3: STATUS MESSAGE - MATCH NEWSLETTER BOX STYLE
   ============================================ */
/* Target the blue approval message and style it like newsletter box */
.bg-blue-500,
.bg-blue-600,
.bg-blue-700,
div.bg-blue-500,
div.bg-blue-600,
[class*="bg-blue"] {
  background: linear-gradient(135deg, rgba(221, 127, 104, 0.08) 0%, rgba(221, 127, 104, 0.12) 100%) !important;
  border: 1px solid rgba(221, 127, 104, 0.3) !important;
  border-left: 4px solid #DD7F68 !important;
  color: #57949F !important;
  padding: 1rem 1.25rem !important;
  border-radius: 0.5rem !important;
}

/* Text color for status messages */
.text-blue-500,
.text-blue-600,
.text-blue-700 {
  color: #57949F !important;
}

/* Dark mode - match newsletter box dark style */
.dark .bg-blue-500,
.dark .bg-blue-600,
.dark .bg-blue-700,
.dark div.bg-blue-500,
.dark div.bg-blue-600,
.dark [class*="bg-blue"] {
  background: linear-gradient(135deg, rgba(137, 180, 250, 0.05) 0%, rgba(137, 180, 250, 0.1) 100%) !important;
  border: 1px solid rgba(137, 180, 250, 0.2) !important;
  border-left: 4px solid #89B4FA !important;
  color: #89B4FA !important;
}

.dark .text-blue-500,
.dark .text-blue-600,
.dark .text-blue-700 {
  color: #89B4FA !important;
}

#cusdis_thread,
.cusdis,
.cusdis-container,
[id*="cusdis"]:not(iframe),
[class*="cusdis"]:not(iframe) {
  overflow: visible !important;
  max-height: none !important;
  height: auto !important;
}

/* Removed conflicting background overrides - using the main rules above instead */